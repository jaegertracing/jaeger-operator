# setup an elasticsearch with `make es`
apiVersion: io.jaegertracing/v1alpha1
kind: Jaeger
metadata:
  name: simple-prod
spec:
  strategy: production
  storage:
    type: elasticsearch
    options:
      es:
        server-urls: https://elasticsearch:9200
        tls.ca: "/sec/ca"
        token-file: /var/run/secrets/kubernetes.io/serviceaccount/token
      es-archive:
        server-urls: https://elasticsearch:9200
        tls.ca: "/sec/ca"
        token-file: /var/run/secrets/kubernetes.io/serviceaccount/token
  volumeMounts:
  - name: es-secrets
    mountPath: "/sec"
  volumes:
  - name: es-secrets
    secret:
      secretName: jaeger-elasticsearch
