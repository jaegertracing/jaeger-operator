apiVersion: kuttl.dev/v1beta1
kind: TestStep
commands:
  # Generate the manifest from the CRDs
  - script: "../../../build/_output/bin/jaeger-operator generate --cr jaeger-deployment.yaml --output generated-manifest.yaml"
  # Deploy the manifest
  - command: "kubectl apply -f generated-manifest.yaml"
    namespaced: true
  # Sometimes, the Jaeger deployment is done but the endpoints are not available
  # yet. So, we wait here before moving to the next step to ensure the endpoints
  # are available and the reporter application can send the spans properly
  - script: "sleep 10"
